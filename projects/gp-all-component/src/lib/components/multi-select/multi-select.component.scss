@import './../../resources/scss/theme-360/theme';

// ::ng-deep is deprecated but not removed.
// Alternatively we could have used ViewEncapsulation.None at component typescript declaration, but it goes against component encapsulation we finally want.
::ng-deep {
  .ui-inputwrapper-filled {
    .ui-multiselect {
      font-family: 'Lato', sans-serif;
      @include make-input();

      &:not(.ui-state-disabled):hover {
        border-color: $inputBorderColor;
      }

      .ui-multiselect-label-container {
        .ui-multiselect-label {
          @include make-input-text();
          padding: 0;
          padding-right: $separationLarge;
        }
      }

      .ui-multiselect-trigger {
        width: auto;
        top: 0;
        @include absolute-centered('vertical');

        .pi {
          color: $textSecondaryColor;
          margin-left: -25px;
        }
      }

      &.ui-state-focus {
        @include make-input-state('focus');
        border-width: 1px;
      }
    }

    .ui-multiselect-panel.ui-widget {
      width: auto;
      min-width: 100%;
      max-width: 370px;
      border: 1px solid $borderColor;
      border-radius: 4px;

      &.ui-shadow {
        @include content-shadow();
      }

      .ui-multiselect-header {
        padding: 0;
        font-size: $fontSize;
        border-bottom: 1px solid $inputBorderColor;
        background-color: $multiselectHeaderBg;
        border-radius: 0;

        .ui-multiselect-filter {
          &-container {
            width: 100%;
            padding: 1em 1em;

            .ui-inputtext {
              @include make-input();
              color: $textColor;

              &:not(label):focus {
                border-color: $borderColor;
              }
            }
          }

          &-icon {
            right: $separationXLarge;
            transform: translateY(-50%);
            color: $textColor;
            font-size: $fontSizeLarge;
            margin-top: 0;
          }
        }

        .ui-chkbox {
          display: none;
        }

        .ui-multiselect-close {
          display: none;
        }
      }

      .ui-multiselect-items-wrapper {
        @include make-scroll();
        z-index: 1;
        padding: 0.6em 0;

        .ui-multiselect-list {
          background: inherit;
          font-family: 'Lato', sans-serif;
        }
      }

      .ui-multiselect-item {
        font-size: $fontSize;
        padding: $separation / 2 $separationLarge;
        color: $textSecondaryColor;
        outline: none;
        width: calc(100% - 1px);

        > span {
          padding-left: $separationXLarge;
        }

        .ui-chkbox {
          position: absolute;
          font-size: $fontSize;
          line-height: 1.25em;
          width: 1.25em;
          height: 1.25em;
          cursor: default;

          &-box {
            border: 2px solid $checkboxBorder;
            width: 1.25em;
            height: 1.25em;
            overflow: hidden;
            border-radius: 3px;
            @include transition(background-color 0.3s);

            .ui-chkbox-icon {
              font-size: 1.25em;
              margin-left: -2px;
              margin-top: -2px;
              position: relative;
            }

            &.ui-state-active {
              border-color: $primaryColor;
              background: $primaryColor;
            }
          }
        }

        &.ui-state-highlight {
          color: $textColor;
          background: $primaryBg;

          .ui-chkbox-icon {
            padding-left: inherit;
            padding-bottom: 3px;
          }
        }
      }
    }
  }
}
