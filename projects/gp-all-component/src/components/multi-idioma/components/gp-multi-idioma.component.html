<p-growl [value]="alerts" [sticky]="false" [life]="5000"></p-growl>
<div class="ta-center">
  <button pButton type="button" icon="pi pi-globe" class="ui-button-rounded" (click)="despliegaTraducciones()">
  </button>
</div>

<p-dialog [(visible)]="visualizarTablaTraducciones" header="Mantenimiento traducciones - {{campoDescripcion}}"
          modal="modal" width="1000" minHeight="600" appendTo="body">
  <div class="ui-grid ui-grid-responsive ui-grid-pad">
    <div class="ui-grid-col-12">
      <div class="ui-grid-row" *ngFor="let traduccion of elementosTraducciones">
        <div class="ui-md-1 bandera bandera-{{traduccion.idiomaPais.toLowerCase()}}"
             *ngIf="traduccion.idiomaPais != null"
             pTooltip="{{traduccion.idiomaPais}}" tooltipPosition="top">
        </div>
        <div class="ui-md 1 bandera sin-bandera" *ngIf="traduccion.idiomaPais == null">
        </div>
        <div [class.ui-md-10]="habilitarEdicionHTML"
             [class.ui-md-11]="!habilitarEdicionHTML">
                    <span class="md-inputfield padding-1 full-width">
                        <input type="text" pInputText class="ui-inputtext ui-corner-all full-width large"
                               *ngIf="!habilitarEdicionHTML || !contieneHtml(traduccion.idiomaPaisTraduccion)"
                               [(ngModel)]="traduccion.idiomaPaisTraduccion">
                        <input type="text"
                               *ngIf="contieneHtml(traduccion.idiomaPaisTraduccion) && habilitarEdicionHTML"
                               class="ui-inputtext ui-corner-all full-width large ta-center"
                               disabled="true"
                               value="*****     CONTIENE HTML -  PULSE BOTÓN PARA EDITAR     ****">
                    </span>
        </div>
        <div class="ui-md-1" *ngIf="habilitarEdicionHTML">
          <button pButton type="button"
                  label="HTML"
                  class="ui-button-raised ui-button-success full-width"
                  [class.contiene-html]="contieneHtml(traduccion.idiomaPaisTraduccion)"
                  (click)="mostrarDialogoEdicionHTML(traduccion)"
                  icon="pi pi-pencil">
          </button>
        </div>
      </div>
    </div>
    <gp-loading-indicator *ngIf="elementosTraducciones == null" style="width:100%;"></gp-loading-indicator>
    <p-footer *ngIf="elementosTraducciones != null && visualizarTablaTraducciones">
      <div class="ui-grid-row padding-1">
        <div class="ui-grid-col-8"></div>
        <div class="ui-grid-col-2">
          <button pButton type="button"
                  label="Aceptar"
                  class="ui-button-raised full-width"
                  (click)="guardarCambios()"
                  icon="pi pi-check"
                  [disabled]="working">
          </button>
        </div>
        <div class="ui-grid-col-2">
          <button pButton type="button"
                  label="Salir"
                  class="ui-button-raised full-width"
                  (click)="cerrarEdicionTraduccion()"
                  icon="pi pi-times">
          </button>
        </div>
      </div>
    </p-footer>
  </div>
</p-dialog>

<p-dialog [(visible)]="visualizarEdicionHTML" header="Traducción - {{traduccionIdiomaHTML}}"
          modal="modal" width="1000" responsive="true">
  <div class="ui-grid ui-grid-responsive ui-grid-pad">
    <div class="ui-grid-col-12">
      <div class="ui-grid-row">
        <p-editor [(ngModel)]="traduccionTextoHTML" [style]="{'height':'300px', 'width':'970px'}">
          <p-header>
            <span class="ql-format-group">
              <span title="Bold" class="ql-format-button ql-bold">
                <button class="ql-bold" aria-label="Bold"></button>
              </span>
              <span class="ql-format-separator"></span>
              <span title="Italic" class="ql-format-button ql-italic">
                <button class="ql-italic" aria-label="Italic"></button>
              </span>
              <span class="ql-format-separator"></span>
              <span title="Underline" class="ql-format-button ql-underline">
                <button class="ql-underline" aria-label="Underline"></button>
              </span>
              <span class="ql-format-separator"></span>
              <span title="Strikethrough" class="ql-format-button ql-strike"></span>
            </span>
          </p-header>
        </p-editor>
      </div>
    </div>
    <p-footer>
      <div class="ui-grid-row padding-1">
        <div class="ui-grid-col-8"></div>
        <div class="ui-grid-col-2">
          <button pButton type="button" label="Guardar" icon="pi pi-check"
                  class="ui-button-raised full-width"
                  (click)="guardarCambiosHTML()" [disabled]="working"></button>
        </div>
        <div class="ui-grid-col-2">
          <button pButton type="button" label="Salir" icon="pi pi-times"
                  class="ui-button-raised full-width"
                  (click)="cerrarEdicionHTML()"></button>
        </div>
      </div>
    </p-footer>
  </div>
</p-dialog>
